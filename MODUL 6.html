<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perpustakaan UNAIR</title>
    <!-- Memuat jQuery dan plugin lainnya -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui/1.12.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui/1.12.1/themes/base/jquery-ui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f9;
        }
        header {
            background-color: #2c3e50;
            color: white;
            padding: 10px;
            text-align: center;
        }
        .search-container {
            margin-bottom: 20px;
        }
        .search-container input[type="text"] {
            padding: 8px;
            width: 300px;
            margin-right: 10px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #3498db;
            color: white;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
    </style>
</head>
<body>

<header>
    <h1>Perpustakaan Online</h1>
    <p>Selamat datang di perpustakaan digital kami!</p>
</header>

<div class="search-container">
    <label for="search">Cari Buku: </label>
    <input type="text" id="search" placeholder="Masukkan judul buku...">
    <button id="searchButton">Cari</button>
</div>

<h2>Daftar Buku</h2>
<table id="bookTable">
    <thead>
        <tr>
            <th>Judul</th>
            <th>Penulis</th>
            <th>Tahun</th>
            <th>Aksi</th>
        </tr>
    </thead>
    <tbody>
        <!-- Data buku akan ditambahkan di sini oleh jQuery -->
    </tbody>
</table>

<!-- Modal untuk detail buku -->
<div id="bookDetails" title="Detail Buku">
    <p id="bookDetailContent"></p>
</div>

<script>
    $(document).ready(function () {
        // Data buku (contoh)
        const books = [
            { title: 'Negara Demokrasi Indonesia', author: 'Dadang Juliantara', year: 2002 },
            { title: 'Terapi Madu', author: 'Adji Suranto', year: 2007 },
            { title: 'Akuntansi Sektor Publik', author: 'Mahmudi', year: 2016 },
            { title: 'Pengantar Ilmu Komunikasi', author: 'Hoeta Soehoet', year: 2002 },
            { title: 'Psikologi Umum', author: 'Kenneth Carter & Coeloen M.Seifert', year: 2017 }
        ];

        // Menampilkan data buku ke dalam tabel
        function displayBooks(bookList) {
            $('#bookTable tbody').empty();
            bookList.forEach(function (book) {
                const row = `<tr>
                    <td>${book.title}</td>
                    <td>${book.author}</td>
                    <td>${book.year}</td>
                    <td><button class="viewDetail" data-title="${book.title}" data-author="${book.author}" data-year="${book.year}">Lihat Detail</button></td>
                </tr>`;
                $('#bookTable tbody').append(row);
            });
        }

        // Memulai dengan menampilkan semua buku
        displayBooks(books);

        // Fungsi pencarian
        $('#searchButton').click(function () {
            const query = $('#search').val().toLowerCase();
            const filteredBooks = books.filter(function (book) {
                return book.title.toLowerCase().includes(query) || book.author.toLowerCase().includes(query);
            });
            displayBooks(filteredBooks);
        });

        // Modal untuk detail buku
        $('#bookTable').on('click', '.viewDetail', function () {
            const title = $(this).data('title');
            const author = $(this).data('author');
            const year = $(this).data('year');
            $('#bookDetailContent').html(`
                <strong>Judul:</strong> ${title}<br>
                <strong>Penulis:</strong> ${author}<br>
                <strong>Tahun Terbit:</strong> ${year}
            `);
            $('#bookDetails').dialog({
                modal: true,
                width: 400
            });
        });

        // Fitur datepicker menggunakan jQuery UI
        $('#search').datepicker({
            dateFormat: 'yy-mm-dd',
            showAnim: 'slideDown'
        });
    });
</script>

</body>
</html>
